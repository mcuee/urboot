/*
 * Do not edit: automatically generated by mkavrintel.pl
 *
 * urboot_ioregs.h
 *
 * Ensure RAMSTART, RAMSIZE and EESIZE are available as far as possible
 * and declare I/O registers as far as useful for urboot
 *
 * Published under GNU General Public License, version 3 (GPL-3.0)
 * Meta-author Stefan Rueger <stefan.rueger@urclocks.com>
 *
 * v 1.41
 * 18.11.2024
 *
 */

#ifndef URBOOT_IOREGS_H
#define URBOOT_IOREGS_H

#undef RAMSTART
#undef RAMSIZE
#undef EESIZE

#if 0

#elif defined(__AVR_ATtiny4__) || defined(__AVR_ATtiny5__) || defined(__AVR_ATtiny9__) || \
  defined(__AVR_ATtiny10__) || defined(__AVR_ATtiny102__) || defined(__AVR_ATtiny104__)

#define RAMSTART        0x0040
#define RAMSIZE         0x0020
#define EESIZE               0


#elif defined(__AVR_ATtiny20__)

#define RAMSTART        0x0040
#define RAMSIZE         0x0080
#define EESIZE               0

#define SPCR_addr         0x30
#define in_spcr(rx)  "in  " #rx ", 0x30\n"
#define out_spcr(rx) "out 0x30, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x2e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x2f
#define in_spsr(rx)  "in  " #rx ", 0x2f\n"
#define out_spsr(rx) "out 0x2f, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPA6
#define AtmelPICO     AtmelPB1
#define AtmelPOCI     AtmelPB2
#define AtmelSCK      AtmelPA7


#elif defined(__AVR_ATtiny40__)

#define RAMSTART        0x0040
#define RAMSIZE         0x0100
#define EESIZE               0

#define SPCR_addr         0x30
#define in_spcr(rx)  "in  " #rx ", 0x30\n"
#define out_spcr(rx) "out 0x30, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x2e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x2f
#define in_spsr(rx)  "in  " #rx ", 0x2f\n"
#define out_spsr(rx) "out 0x2f, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPC0
#define AtmelPICO     AtmelPC4
#define AtmelPOCI     AtmelPC2
#define AtmelSCK      AtmelPC1


#elif defined(__AVR_ATtiny11__) || defined(__AVR_ATtiny28__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0020
#define EESIZE               0


#elif defined(__AVR_ATtiny12__) || defined(__AVR_ATtiny15__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0020
#define EESIZE          0x0040

#define EECR_addr         0x1c
#define in_eecr(rx)  "lds " #rx ", 0x1c\n"
#define out_eecr(rx) "sts 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) in_eecr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eecr(rx, b) in_eecr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eecr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eecr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny13__) || defined(__AVR_ATtiny13A__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0040
#define EESIZE          0x0040

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny22__) || defined(__AVR_ATtiny26__) || defined(__AVR_AT90S2313__) || \
  defined(__AVR_AT90S2323__) || defined(__AVR_AT90S2343__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0080
#define EESIZE          0x0080

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny24__) || defined(__AVR_ATtiny24A__) || defined(__AVR_ATtiny25__) || \
  defined(__AVR_ATtiny261__) || defined(__AVR_ATtiny261A__) || defined(__AVR_ATtiny2313__) || \
  defined(__AVR_ATtiny2313A__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0080
#define EESIZE          0x0080

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny43U__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0100
#define EESIZE          0x0040

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny44__) || defined(__AVR_ATtiny44A__) || defined(__AVR_ATtiny45__) || \
  defined(__AVR_ATtiny461__) || defined(__AVR_ATtiny461A__) || defined(__AVR_ATtiny4313__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0100
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATtiny48__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0100
#define EESIZE          0x0040

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATtiny84__) || defined(__AVR_ATtiny84A__) || defined(__AVR_ATtiny85__) || \
  defined(__AVR_ATtiny861__) || defined(__AVR_ATtiny861A__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"


#elif defined(__AVR_ATtiny87__) || defined(__AVR_ATtiny167__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPA6
#define AtmelPICO     AtmelPA4
#define AtmelPOCI     AtmelPA2
#define AtmelSCK      AtmelPA5


#elif defined(__AVR_ATtiny88__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0040

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATtiny441__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0100
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0xb2
#define in_spcr(rx)  "lds " #rx ", 0xb2\n"
#define out_spcr(rx) "sts 0xb2, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0xb0
#define in_spdr(rx)  "lds " #rx ", 0xb0\n"
#define out_spdr(rx) "sts 0xb0, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0xb1
#define in_spsr(rx)  "lds " #rx ", 0xb1\n"
#define out_spsr(rx) "sts 0xb1, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define AtmelCS       AtmelPA7
#define AtmelPICO     AtmelPA6
#define AtmelPOCI     AtmelPA5
#define AtmelSCK      AtmelPA4


#elif defined(__AVR_ATtiny828__) || defined(__AVR_ATtiny828R__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPC0
#define AtmelPICO     AtmelPD0
#define AtmelPOCI     AtmelPD1
#define AtmelSCK      AtmelPD3


#elif defined(__AVR_ATtiny841__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0xb2
#define in_spcr(rx)  "lds " #rx ", 0xb2\n"
#define out_spcr(rx) "sts 0xb2, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0xb0
#define in_spdr(rx)  "lds " #rx ", 0xb0\n"
#define out_spdr(rx) "sts 0xb0, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0xb1
#define in_spsr(rx)  "lds " #rx ", 0xb1\n"
#define out_spsr(rx) "sts 0xb1, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPA7
#define AtmelPICO     AtmelPA6
#define AtmelPOCI     AtmelPA5
#define AtmelSCK      AtmelPA4


#elif defined(__AVR_ATtiny1634__) || defined(__AVR_ATtiny1634R__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_ATmega8__) || defined(__AVR_ATmega8A__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega8HVA__) || defined(__AVR_ATmega16HVA__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega8U2__) || defined(__AVR_ATmega16U2__) || defined(__AVR_AT90USB82__) || \
  defined(__AVR_AT90USB162__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega16__) || defined(__AVR_ATmega16A__) || defined(__AVR_ATmega161__) || \
  defined(__AVR_ATmega163__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega16HVB__) || \
  defined(__AVR_ATmega16HVBrevB__) || defined(__AVR_ATmega16HVBREVB__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB6
#define AtmelPOCI     AtmelPB7
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega16M1__) || defined(__AVR_AT90PWM216__) || defined(__AVR_AT90PWM316__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPD3
#define AtmelPICO     AtmelPB1
#define AtmelPOCI     AtmelPB0
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega16HVA2__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATmega16U4__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0500
#define EESIZE          0x0200

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega32__) || defined(__AVR_ATmega32A__) || defined(__AVR_ATmega323__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega32HVB__) || \
  defined(__AVR_ATmega32HVBrevB__) || defined(__AVR_ATmega32HVBREVB__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB6
#define AtmelPOCI     AtmelPB7
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega32C1__) || defined(__AVR_ATmega32M1__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPD3
#define AtmelPICO     AtmelPB1
#define AtmelPOCI     AtmelPB0
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega32HVE2__)

#define RAMSTART            -1
#define RAMSIZE             -1
#define EESIZE          0x0400


#elif defined(__AVR_ATmega32U2__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega32U4__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0a00
#define EESIZE          0x0400

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega32U6__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0a00
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATmega48__) || defined(__AVR_ATmega48A__) || defined(__AVR_ATmega48P__) || \
  defined(__AVR_ATmega48PA__) || defined(__AVR_ATmega48PB__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega64__) || defined(__AVR_ATmega64A__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define SPMCR_addr        0x68
#define in_spmcr(rx)  "lds " #rx ", 0x68\n"
#define out_spmcr(rx) "sts 0x68, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega64HVE__) || defined(__AVR_ATmega64HVE2__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB6
#define AtmelPOCI     AtmelPB7
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega64C1__) || defined(__AVR_ATmega64M1__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPD3
#define AtmelPICO     AtmelPB1
#define AtmelPOCI     AtmelPB0
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega64RFR2__) || defined(__AVR_ATmega644RFR2__)

#define RAMSTART        0x0200
#define RAMSIZE         0x2000
#define EESIZE          0x0800

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega88__) || defined(__AVR_ATmega88A__) || defined(__AVR_ATmega88P__) || \
  defined(__AVR_ATmega88PA__) || defined(__AVR_ATmega88PB__) || defined(__AVR_ATmega168__) || \
  defined(__AVR_ATmega168A__) || defined(__AVR_ATmega168P__) || defined(__AVR_ATmega168PA__) || \
  defined(__AVR_ATmega168PB__) || defined(__AVR_LGT8F88P__) || defined(__AVR_LGT8F168P__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega103__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0fa0
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega103comp__) || defined(__AVR_ATmega161comp__) || \
  defined(__AVR_AT90S8515comp__) || defined(__AVR_AT90S8535comp__)

#define RAMSTART            -1
#define RAMSIZE             -1
#define EESIZE              -1


#elif defined(__AVR_ATmega128__) || defined(__AVR_ATmega128A__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x68
#define in_spmcr(rx)  "lds " #rx ", 0x68\n"
#define out_spmcr(rx) "sts 0x68, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega128RFA1__) || defined(__AVR_ATmega128RFR2__) || \
  defined(__AVR_ATmega1284RFR2__)

#define RAMSTART        0x0200
#define RAMSIZE         0x4000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega162__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega164A__) || defined(__AVR_ATmega164P__) || defined(__AVR_ATmega164PA__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega165__) || defined(__AVR_ATmega165A__) || defined(__AVR_ATmega165P__) || \
  defined(__AVR_ATmega165PA__) || defined(__AVR_ATmega169__) || defined(__AVR_ATmega169A__) || \
  defined(__AVR_ATmega169P__) || defined(__AVR_ATmega169PA__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega256RFR2__) || defined(__AVR_ATmega2564RFR2__)

#define RAMSTART        0x0200
#define RAMSIZE         0x8000
#define EESIZE          0x2000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega324A__) || defined(__AVR_ATmega324P__) || \
  defined(__AVR_ATmega324PA__) || defined(__AVR_ATmega324PB__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega325__) || defined(__AVR_ATmega325A__) || defined(__AVR_ATmega325P__) || \
  defined(__AVR_ATmega325PA__) || defined(__AVR_ATmega329__) || defined(__AVR_ATmega329A__) || \
  defined(__AVR_ATmega329P__) || defined(__AVR_ATmega329PA__) || defined(__AVR_ATmega3250__) || \
  defined(__AVR_ATmega3250A__) || defined(__AVR_ATmega3250P__) || \
  defined(__AVR_ATmega3250PA__) || defined(__AVR_ATmega3290__) || defined(__AVR_ATmega3290A__) || \
  defined(__AVR_ATmega3290P__) || defined(__AVR_ATmega3290PA__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega328__) || defined(__AVR_ATmega328P__) || \
  defined(__AVR_ATmega328PB__) || defined(__AVR_LGT8F328P__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_ATmega406__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATmega640__) || defined(__AVR_ATmega1280__) || defined(__AVR_ATmega1281__) || \
  defined(__AVR_ATmega2560__) || defined(__AVR_ATmega2561__)

#define RAMSTART        0x0200
#define RAMSIZE         0x2000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega644__) || defined(__AVR_ATmega644A__) || defined(__AVR_ATmega644P__) || \
  defined(__AVR_ATmega644PA__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega645__) || defined(__AVR_ATmega645A__) || defined(__AVR_ATmega645P__) || \
  defined(__AVR_ATmega649__) || defined(__AVR_ATmega649A__) || defined(__AVR_ATmega649P__) || \
  defined(__AVR_ATmega6450__) || defined(__AVR_ATmega6450A__) || defined(__AVR_ATmega6450P__) || \
  defined(__AVR_ATmega6490__) || defined(__AVR_ATmega6490A__) || defined(__AVR_ATmega6490P__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_ATmega1284__) || defined(__AVR_ATmega1284P__)

#define RAMSTART        0x0100
#define RAMSIZE         0x4000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_ATmega8515__) || defined(__AVR_ATmega8535__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_AT43USB320__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0200
#define EESIZE               0

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"


#elif defined(__AVR_AT43USB355__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0400
#define EESIZE               0

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"


#elif defined(__AVR_AT76C711__)

#define RAMSTART        0x0060
#define RAMSIZE         0x07a0
#define EESIZE               0

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"


#elif defined(__AVR_AT86RF401__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0080
#define EESIZE          0x0080


#elif defined(__AVR_AT89S51__) || defined(__AVR_AT89S52__)

#define RAMSTART            -1
#define RAMSIZE             -1
#define EESIZE               0


#elif defined(__AVR_AT90PWM1__) || defined(__AVR_AT90PWM2__) || defined(__AVR_AT90PWM2B__) || \
  defined(__AVR_AT90PWM3__) || defined(__AVR_AT90PWM3B__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPD3
#define AtmelPICO     AtmelPB1
#define AtmelPOCI     AtmelPB0
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_AT90CAN32__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_AT90CAN64__) || defined(__AVR_AT90USB646__) || defined(__AVR_AT90USB647__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_AT90PWM81__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0100
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x37
#define in_spcr(rx)  "in  " #rx ", 0x17\n"
#define out_spcr(rx) "out 0x17, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x17, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x17, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x17, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x17, " #b "\n"

#define SPDR_addr         0x56
#define in_spdr(rx)  "in  " #rx ", 0x36\n"
#define out_spdr(rx) "out 0x36, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x38
#define in_spsr(rx)  "in  " #rx ", 0x18\n"
#define out_spsr(rx) "out 0x18, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x18, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x18, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x18, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x18, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPD0
#define AtmelPICO     AtmelPB4
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_AT90SCR100__) || defined(__AVR_AT90SCR100H__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x0800

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_AT90CAN128__)

#define RAMSTART        0x0100
#define RAMSIZE         0x1000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_AT90PWM161__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x37
#define in_spcr(rx)  "in  " #rx ", 0x17\n"
#define out_spcr(rx) "out 0x17, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x17, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x17, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x17, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x17, " #b "\n"

#define SPDR_addr         0x56
#define in_spdr(rx)  "in  " #rx ", 0x36\n"
#define out_spdr(rx) "out 0x36, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x38
#define in_spsr(rx)  "in  " #rx ", 0x18\n"
#define out_spsr(rx) "out 0x18, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x18, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x18, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x18, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x18, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPD0
#define AtmelPICO     AtmelPB4
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_AT90S1200__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0020
#define EESIZE          0x0040

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"


#elif defined(__AVR_AT90USB1286__) || defined(__AVR_AT90USB1287__)

#define RAMSTART        0x0100
#define RAMSIZE         0x2000
#define EESIZE          0x1000

#define RAMPZ_addr        0x5b
#define in_rampz(rx)  "in  " #rx ", 0x3b\n"
#define out_rampz(rx) "out 0x3b, " #rx "\n"
#define sbxs_rampz(rx, b) _sbxs_rampz(rx, b)
#define sbxc_rampz(rx, b) _sbxc_rampz(rx, b)
#define sbRs_rampz(rx, b) _sbRs_rampz(rx, b)
#define sbRc_rampz(rx, b) _sbRc_rampz(rx, b)
#define _sbxs_rampz(rx, b) in_rampz(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_rampz(rx, b) in_rampz(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_rampz(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_rampz(rx, b) "sbrc " #rx ", " #b "\n"

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"

#define AtmelCS       AtmelPB0
#define AtmelPICO     AtmelPB2
#define AtmelPOCI     AtmelPB3
#define AtmelSCK      AtmelPB1


#elif defined(__AVR_AT90S2333__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0080
#define EESIZE          0x0080

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_AT90S4414__) || defined(__AVR_AT90S4434__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0100
#define EESIZE          0x0100

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_AT90S4433__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0080
#define EESIZE          0x0100

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define AtmelCS       AtmelPB2
#define AtmelPICO     AtmelPB3
#define AtmelPOCI     AtmelPB4
#define AtmelSCK      AtmelPB5


#elif defined(__AVR_AT90S8515__) || defined(__AVR_AT90S8535__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPCR_addr         0x2d
#define in_spcr(rx)  "in  " #rx ", 0x0d\n"
#define out_spcr(rx) "out 0x0d, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbxc_spcr(rx, b) "sbic 0x0d, " #b "\n"
#define _sbRs_spcr(rx, b) "sbis 0x0d, " #b "\n"
#define _sbRc_spcr(rx, b) "sbic 0x0d, " #b "\n"

#define SPDR_addr         0x2f
#define in_spdr(rx)  "in  " #rx ", 0x0f\n"
#define out_spdr(rx) "out 0x0f, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbxc_spdr(rx, b) "sbic 0x0f, " #b "\n"
#define _sbRs_spdr(rx, b) "sbis 0x0f, " #b "\n"
#define _sbRc_spdr(rx, b) "sbic 0x0f, " #b "\n"

#define SPSR_addr         0x2e
#define in_spsr(rx)  "in  " #rx ", 0x0e\n"
#define out_spsr(rx) "out 0x0e, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbxc_spsr(rx, b) "sbic 0x0e, " #b "\n"
#define _sbRs_spsr(rx, b) "sbis 0x0e, " #b "\n"
#define _sbRc_spsr(rx, b) "sbic 0x0e, " #b "\n"

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"

#define AtmelCS       AtmelPB4
#define AtmelPICO     AtmelPB5
#define AtmelPOCI     AtmelPB6
#define AtmelSCK      AtmelPB7


#elif defined(__AVR_AT90C8534__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0100
#define EESIZE          0x0200

#define EECR_addr         0x3c
#define in_eecr(rx)  "in  " #rx ", 0x1c\n"
#define out_eecr(rx) "out 0x1c, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1c, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1c, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1c, " #b "\n"

#define EEDR_addr         0x3d
#define in_eedr(rx)  "in  " #rx ", 0x1d\n"
#define out_eedr(rx) "out 0x1d, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbxc_eedr(rx, b) "sbic 0x1d, " #b "\n"
#define _sbRs_eedr(rx, b) "sbis 0x1d, " #b "\n"
#define _sbRc_eedr(rx, b) "sbic 0x1d, " #b "\n"

#define EEAR_addr         0x3e
#define in_eear(rx)  "in  " #rx ", 0x1e\n"
#define out_eear(rx) "out 0x1e, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eear(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eear(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eear(rx, b) "sbic 0x1e, " #b "\n"

#define EEARL_addr        0x3e
#define in_eearl(rx)  "in  " #rx ", 0x1e\n"
#define out_eearl(rx) "out 0x1e, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbxc_eearl(rx, b) "sbic 0x1e, " #b "\n"
#define _sbRs_eearl(rx, b) "sbis 0x1e, " #b "\n"
#define _sbRc_eearl(rx, b) "sbic 0x1e, " #b "\n"

#define EEARH_addr        0x3f
#define in_eearh(rx)  "in  " #rx ", 0x1f\n"
#define out_eearh(rx) "out 0x1f, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eearh(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eearh(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eearh(rx, b) "sbic 0x1f, " #b "\n"


#elif defined(__AVR_AT94K__)

#define RAMSTART        0x0060
#define RAMSIZE         0x0fa0
#define EESIZE               0


#elif defined(__AVR_ATA5272__) || defined(__AVR_ATA5505__) || defined(__AVR_ATA6616C__) || \
  defined(__AVR_ATA6617C__) || defined(__AVR_ATA664251__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA5700M322__) || defined(__AVR_ATA5702M322__)

#define RAMSTART        0x0200
#define RAMSIZE         0x0400
#define EESIZE          0x0880

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA5781__) || defined(__AVR_ATA5782__) || defined(__AVR_ATA5783__) || \
  defined(__AVR_ATA5831__) || defined(__AVR_ATA5832__) || defined(__AVR_ATA5833__) || \
  defined(__AVR_ATA8210__) || defined(__AVR_ATA8215__) || defined(__AVR_ATA8510__) || \
  defined(__AVR_ATA8515__)

#define RAMSTART        0x0200
#define RAMSIZE         0x0400
#define EESIZE          0x0400

#define SPMCR_addr        0x5c
#define in_spmcr(rx)  "in  " #rx ", 0x3c\n"
#define out_spmcr(rx) "out 0x3c, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA5787__) || defined(__AVR_ATA5835__)

#define RAMSTART        0x0200
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA5790__) || defined(__AVR_ATA5790N__) || defined(__AVR_ATA5791__) || \
  defined(__AVR_ATA5795__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0800

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA6285__) || defined(__AVR_ATA6286__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0140

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA6289__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0200
#define EESIZE          0x0100

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA6612C__) || defined(__AVR_ATA6613C__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0400
#define EESIZE          0x0200

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_ATA6614Q__)

#define RAMSTART        0x0100
#define RAMSIZE         0x0800
#define EESIZE          0x0400

#define SPMCR_addr        0x57
#define in_spmcr(rx)  "in  " #rx ", 0x37\n"
#define out_spmcr(rx) "out 0x37, " #rx "\n"
#define sbxs_spmcr(rx, b) _sbxs_spmcr(rx, b)
#define sbxc_spmcr(rx, b) _sbxc_spmcr(rx, b)
#define sbRs_spmcr(rx, b) _sbRs_spmcr(rx, b)
#define sbRc_spmcr(rx, b) _sbRc_spmcr(rx, b)
#define _sbxs_spmcr(rx, b) in_spmcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spmcr(rx, b) in_spmcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spmcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spmcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPCR_addr         0x4c
#define in_spcr(rx)  "in  " #rx ", 0x2c\n"
#define out_spcr(rx) "out 0x2c, " #rx "\n"
#define sbxs_spcr(rx, b) _sbxs_spcr(rx, b)
#define sbxc_spcr(rx, b) _sbxc_spcr(rx, b)
#define sbRs_spcr(rx, b) _sbRs_spcr(rx, b)
#define sbRc_spcr(rx, b) _sbRc_spcr(rx, b)
#define _sbxs_spcr(rx, b) in_spcr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spcr(rx, b) in_spcr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spcr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spcr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPDR_addr         0x4e
#define in_spdr(rx)  "in  " #rx ", 0x2e\n"
#define out_spdr(rx) "out 0x2e, " #rx "\n"
#define sbxs_spdr(rx, b) _sbxs_spdr(rx, b)
#define sbxc_spdr(rx, b) _sbxc_spdr(rx, b)
#define sbRs_spdr(rx, b) _sbRs_spdr(rx, b)
#define sbRc_spdr(rx, b) _sbRc_spdr(rx, b)
#define _sbxs_spdr(rx, b) in_spdr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spdr(rx, b) in_spdr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spdr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spdr(rx, b) "sbrc " #rx ", " #b "\n"

#define SPSR_addr         0x4d
#define in_spsr(rx)  "in  " #rx ", 0x2d\n"
#define out_spsr(rx) "out 0x2d, " #rx "\n"
#define sbxs_spsr(rx, b) _sbxs_spsr(rx, b)
#define sbxc_spsr(rx, b) _sbxc_spsr(rx, b)
#define sbRs_spsr(rx, b) _sbRs_spsr(rx, b)
#define sbRc_spsr(rx, b) _sbRc_spsr(rx, b)
#define _sbxs_spsr(rx, b) in_spsr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_spsr(rx, b) in_spsr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_spsr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_spsr(rx, b) "sbrc " #rx ", " #b "\n"

#define EECR_addr         0x3f
#define in_eecr(rx)  "in  " #rx ", 0x1f\n"
#define out_eecr(rx) "out 0x1f, " #rx "\n"
#define sbxs_eecr(rx, b) _sbxs_eecr(rx, b)
#define sbxc_eecr(rx, b) _sbxc_eecr(rx, b)
#define sbRs_eecr(rx, b) _sbRs_eecr(rx, b)
#define sbRc_eecr(rx, b) _sbRc_eecr(rx, b)
#define _sbxs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbxc_eecr(rx, b) "sbic 0x1f, " #b "\n"
#define _sbRs_eecr(rx, b) "sbis 0x1f, " #b "\n"
#define _sbRc_eecr(rx, b) "sbic 0x1f, " #b "\n"

#define EEDR_addr         0x40
#define in_eedr(rx)  "in  " #rx ", 0x20\n"
#define out_eedr(rx) "out 0x20, " #rx "\n"
#define sbxs_eedr(rx, b) _sbxs_eedr(rx, b)
#define sbxc_eedr(rx, b) _sbxc_eedr(rx, b)
#define sbRs_eedr(rx, b) _sbRs_eedr(rx, b)
#define sbRc_eedr(rx, b) _sbRc_eedr(rx, b)
#define _sbxs_eedr(rx, b) in_eedr(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eedr(rx, b) in_eedr(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eedr(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eedr(rx, b) "sbrc " #rx ", " #b "\n"

#define EEAR_addr         0x41
#define in_eear(rx)  "in  " #rx ", 0x21\n"
#define out_eear(rx) "out 0x21, " #rx "\n"
#define sbxs_eear(rx, b) _sbxs_eear(rx, b)
#define sbxc_eear(rx, b) _sbxc_eear(rx, b)
#define sbRs_eear(rx, b) _sbRs_eear(rx, b)
#define sbRc_eear(rx, b) _sbRc_eear(rx, b)
#define _sbxs_eear(rx, b) in_eear(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eear(rx, b) in_eear(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eear(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eear(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARL_addr        0x41
#define in_eearl(rx)  "in  " #rx ", 0x21\n"
#define out_eearl(rx) "out 0x21, " #rx "\n"
#define sbxs_eearl(rx, b) _sbxs_eearl(rx, b)
#define sbxc_eearl(rx, b) _sbxc_eearl(rx, b)
#define sbRs_eearl(rx, b) _sbRs_eearl(rx, b)
#define sbRc_eearl(rx, b) _sbRc_eearl(rx, b)
#define _sbxs_eearl(rx, b) in_eearl(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearl(rx, b) in_eearl(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearl(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearl(rx, b) "sbrc " #rx ", " #b "\n"

#define EEARH_addr        0x42
#define in_eearh(rx)  "in  " #rx ", 0x22\n"
#define out_eearh(rx) "out 0x22, " #rx "\n"
#define sbxs_eearh(rx, b) _sbxs_eearh(rx, b)
#define sbxc_eearh(rx, b) _sbxc_eearh(rx, b)
#define sbRs_eearh(rx, b) _sbRs_eearh(rx, b)
#define sbRc_eearh(rx, b) _sbRc_eearh(rx, b)
#define _sbxs_eearh(rx, b) in_eearh(rx) "sbrs " #rx ", " #b "\n"
#define _sbxc_eearh(rx, b) in_eearh(rx) "sbrc " #rx ", " #b "\n"
#define _sbRs_eearh(rx, b) "sbrs " #rx ", " #b "\n"
#define _sbRc_eearh(rx, b) "sbrc " #rx ", " #b "\n"


#elif defined(__AVR_M3000__)

#define RAMSTART        0x1000
#define RAMSIZE         0x1000
#define EESIZE               0


#endif

#define adiw(rx, n) _adiw(rx, n)
#define _adiw(rx, n) "adiw " #rx ", " #n "\n"

#define subi(rx, n) _subi(rx, n)
#define _subi(rx, n) "subi " #rx ", " #n "\n"

#define sbci(rx, n) _sbci(rx, n)
#define _sbci(rx, n) "sbci " #rx ", " #n "\n"

#define sbiw(rx, n) _sbiw(rx, n)
#define _sbiw(rx, n) "sbiw " #rx ", " #n "\n"

#define andi(rx, n) _andi(rx, n)
#define _andi(rx, n) "andi " #rx ", " #n "\n"

#define ori(rx, n) _ori(rx, n)
#define _ori(rx, n) "ori " #rx ", " #n "\n"

#define cpi(rx, n) _cpi(rx, n)
#define _cpi(rx, n) "cpi " #rx ", " #n "\n"

#define ldi(rx, n) _ldi(rx, n)
#define _ldi(rx, n) "ldi " #rx ", " #n "\n"

#endif
